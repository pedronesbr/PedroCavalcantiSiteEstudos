<!DOCTYPE html> <!-- Declara o documento como HTML5 -->
<html lang="pt-BR"> <!-- Idioma principal da p√°gina -->
<head>
  <!-- =====================================================================
       META B√ÅSICO
       ===================================================================== -->
  <meta charset="UTF-8" /> <!-- Suporte a acentua√ß√£o -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <!-- Torna o layout responsivo em dispositivos m√≥veis -->

  <title>Newtonius</title> <!-- Texto exibido na aba/navegador -->
  <link rel="icon" href="flavicon.png" type="image/png" sizes="any">


  <!-- =====================================================================
       FONT AWESOME ‚Äì Biblioteca de √≠cones (usada no ‚ÄúX‚Äù do modal PDF)
       ===================================================================== -->
  <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />

  <!-- =====================================================================
       PDF.js ‚Äì Renderiza PDFs dentro de <canvas> via JavaScript
       ===================================================================== -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.14.305/pdf.min.js"></script>
  <!-- =====================================================================
     Chart.js ‚Äì usado para o gr√°fico de barras do XP semanal
     ===================================================================== -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>


  <!-- =====================================================================
       CSS INLINE
       ===================================================================== -->
  <link rel="stylesheet" href="styles.css" />
  <link rel="stylesheet" href="editor.css" />

  <!-- CSS EXTERNO OPCIONAL (sobrep√µe ou complementa o inline) -->
  <link rel="stylesheet" href="home-style-update.css" />
</head>

<body>
  <!-- =====================================================================
       INPUT OCULTO
       - Usado para selecionar um arquivo .json e importar dados salvos
       ===================================================================== -->
  <input type="file" id="importFile" accept=".json" style="display: none" />

  <!-- =====================================================================
       CABE√áALHO FIXO
       - Bot√£o ‚ÄúVoltar‚Äù, t√≠tulo din√¢mico e um div vazio usado s√≥
         como espa√ßador para manter o t√≠tulo centralizado.
       ===================================================================== -->
  <div id="header">
    <button id="backBtn">
      <i class="fas fa-arrow-left"></i>
      <!-- Bot√£o engrenagem -->
      <button id="settingsBtn" aria-label="Configura√ß√µes">
        <i class="fas fa-cog"></i>
      </button>

      <!-- Menu flutuante das configura√ß√µes -->
      <div id="settingsMenu">
        <button id="simuladoBtn" disabled>Simulado Personalizado</button>
        <button id="erradasBtn"  disabled>Erradas da Semana</button>
        <button id="importBtn">Importar</button>
        <button id="exportBtn">Exportar</button>
      </div>
    </button>
    <div class="header-top">
      <span id="headerTitle">T√≠tulo Din√¢mico</span>
    </div>
    <div class="header-bottom">
      <span id="headerStats" class="stat neutral">Estat√≠sticas</span>
    </div>
  </div>

  <!-- =====================================================================
       CONTE√öDO DIN√ÇMICO
       - Todo o HTML de estudo (menus, quest√µes, etc.) √© injetado aqui
         via JavaScript.
       ===================================================================== -->
  <div id="app"></div>

  <!-- =====================================================================
       MODAL (LIGHTBOX) DE PDF
       - Exibe quest√µes e gabaritos renderizados pelo PDF.js
       ===================================================================== -->
  <div id="pdfViewerContainer">
    <!-- Bot√£o para fechar o modal -->
    <button id="closePdfBtn" aria-label="Fechar PDF">
      <i class="fas fa-times"></i>
    </button>
    <!-- Canvas criado pelo PDF.js para renderizar p√°ginas -->
    <canvas id="pdfCanvas"></canvas>
  </div>
  <!-- =====================================================================
     RESUMO (overlay com o editor de texto)
     ===================================================================== -->
  <div id="summaryContainer" style="position:fixed;inset:0;background:#121212;display:none;flex-direction:column;z-index:2000;">
    <div id="toolbar">
      <button id="summaryBackBtn" title="Voltar"><i class="fas fa-arrow-left"></i></button>
      <button id="undoBtn" title="Desfazer (Ctrl+Z)"><i class="fas fa-undo"></i></button>
      <button id="redoBtn" title="Refazer (Ctrl+Y)"><i class="fas fa-redo"></i></button>

      <button id="boldBtn" title="Negrito (Ctrl+B)"><b>B</b></button>
      <button id="italicBtn" title="It√°lico (Ctrl+I)"><i>I</i></button>
      <button id="underlineBtn" title="Sublinhado (Ctrl+U)"><u>U</u></button>
      <button id="colorBtn" title="Cor do texto">üé®</button>
      <div id="palette"></div>

      <button id="hideBtn">ü§´ Ocultar Texto</button>
      <button id="clearBtn">üßπ Limpar Formata√ß√£o</button>
      <button id="insertImgBtn">üì∑ Inserir Imagem</button>
      <input type="file" id="fileInput" accept="image/*" hidden />

      <button id="insertBtn">‚óºÔ∏è Ocultar Imagem (Tarja)</button>
      <button id="concluirBtn" style="display:none">Concluir</button>
      <button id="deleteTarjaBtn" style="display:none">Apagar Tarja</button>

      <span id="message"></span>
    </div>

    <div id="editor" contenteditable="true"><p></p></div>
  </div>
  <!-- =====================================================================
       MODAL DE XP (gr√°fico semanal)
       ===================================================================== -->
  <div id="xpModal">
    <div id="xpModalHeader">
      <span class="nav" id="xpPrevWeek"><i class="fas fa-chevron-left"></i></span>
      <span class="nav" id="xpNextWeek"><i class="fas fa-chevron-right"></i></span>
      <span id="xpPeriod">--/----/--/--</span>
      <span id="xpEnem">ENEM: -- dias</span>
    </div>
    <div id="xpSummary"></div>
    <canvas id="xpChart"></canvas>
  </div>
  <!-- =====================================================================
       BANCO DE DADOS
       - Arquivo gerado externamente contendo listaQuestoes[] (JSON)
       ===================================================================== -->
  <script src="data.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/interactjs/dist/interact.min.js"></script>
  <script src="editor.js"></script>

  <!-- =====================================================================
       JAVASCRIPT PRINCIPAL
       - Controla: navega√ß√£o, estat√≠sticas, render de PDF, armazenamento
         em localStorage, import/export, etc.
       ===================================================================== -->
  <!-- Modal Pomodoro -->
  <div id="pomodoroModal">
    <div class="modal-content">
      <h3>Pomodoro</h3>
      <div id="pomodoroOptions">
        <button data-min="25">25 minutos</button>
        <button data-min="5">5 minutos</button>
        <button id="customBtn">Personalizado</button>
      </div>
      <div id="customInput" style="display:none;">
        <input type="number" id="customMinutes" min="1" placeholder="Min">
        <button id="startCustomBtn">Iniciar</button>
      </div>
      <div id="pomodoroControls" style="display:none;">
        <button id="pauseResumeBtn">Pausar</button>
        <button id="stopBtn">Sair</button>
      </div>
    </div>
  </div>
  <script src="main.js"></script>
</body>
</html>
